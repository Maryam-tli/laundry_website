{% extends 'base.html' %}
{% load static %}
{% block content %}
<!-- header body -->
	<div class="overflow-hidden py-9 py-xl-10 position-relative">
	   	<img src="{% static 'assets/img/bg/bg1.jpg' %}" class="position-absolute z-n1 top-0 h-100 w-100 object-fit-cover" alt="Meeting">

	   	<div class="position-absolute z-n1 top-0 h-100 w-100 bg-dark"
	        style="opacity: 0.85; mix-blend-mode: multiply; filter: contrast(1.15) brightness(0.85);">
	    </div>

	    <div class="position-absolute z-0 top-0 h-100 w-100">
		    <div class="container h-100 d-flex align-items-center">
                <div class="max-w-2xl mx-auto mx-xl-0 text-center text-xl-start">
                    <h1 class="m-0 mt-7 text-white tracking-tight text-6xl fw-bold" data-aos-delay="0" data-aos="fade" data-aos-duration="3000">
                        From the blog
                    </h1>
                    <p class="m-0 mt-4 text-white text-lg leading-8" data-aos-delay="100" data-aos="fade" data-aos-duration="3000">
                        Learn how to grow your business with our expert advice.
                    </p>
                </div>
		    </div>
	    </div>
	</div>	

<!-- blog posts -->
	<div class="overflow-hidden py-6 py-sm-7 py-xl-8">
		<div class="container">
			<div class="row gx-xl-5 justify-content-between">
				<div class="col-12 col-xl-8">
		            <div class="row row-cols-1 row-cols-md-2 gy-5 gx-md-5 justify-content-center justify-content-xl-between">
						{% for item in posts %}
		                <div class="col pt-5 pt-xl-4" data-aos-delay="0" data-aos="fade" data-aos-duration="3000">
		                    <article class="d-flex max-w-xl mx-auto mx-xl-0 flex-column align-items-start justify-content-between">
		                        <div class="position-relative w-100">
		                            <div class="ratio" style="--bs-aspect-ratio: 66.66%;">
    									<img src="{{ item.image.url }}" class="blog-image rounded-3" alt="{{ item.title }}" loading="lazy">
									</div>
		                        </div>

		                        <div class="mt-4 d-flex align-items-center column-gap-3 text-xs">
		                            <time datetime="{{ item.published_date|date:'Y-m-d' }}" class="text-body-tertiary">
    									{{ item.published_date|date:"M d, Y" }}
									</time>

		                            <a href="javascript:;" class="px-3 py-2 text-body-secondary bg-body-tertiary position-relative z-1 rounded-pill text-decoration-none fw-medium">
		                                {{ item.category }}
		                            </a>
									<small class="text-body-tertiary text-xs fw-medium">
    									üëÅ Views: {{ item.counted_views }}
									</small>
		                        </div>

		                        <div class="position-relative">
		                            <h3 class="m-0 mt-3 text-lg leading-6 fw-semibold">
		                                <a href="{% url 'post_detail' item.slug %}" class="text-body-emphasis text-body-secondary-hover text-decoration-none">
		                                    {{ item.title }}
		                                </a>
		                            </h3>
		                            <p class="m-0 mt-3 text-body-secondary line-clamp-2 text-sm leading-6">
		                                {{ item.content|truncatewords:30|safe }}
		                            </p>
		                        </div>

		                        <div class="mt-4 position-relative d-flex align-items-center column-gap-3">
		                            <img src="{{ item.author.photo.url }}" alt="Author face" class="rounded-circle" width="40" height="40" loading="lazy">

		                            <div class="text-sm leading-6">
		                                <p class="m-0 fw-semibold">
		                                    <a href="{% url 'author' slug=item.author.slug %}" class="text-body-emphasis text-decoration-none">
		                                        {{ item.author.name }}
		                                    </a>
		                                </p>
		                            </div>
		                        </div>
		                        <div class="mt-4">
		                            <a href="{% url 'post_detail' item.slug %}" class="text-body-emphasis text-decoration-none">
		                                Read more...
		                            </a>
		                        </div>
		                    </article>
		                </div>
						{% endfor %}  
		            </div>

					<!-- pagination -->
					<div class="pt-9 pb-6">
    					<div class="container">
        					<nav aria-label="Page navigation">
            					<ul class="pagination justify-content-center">
                					<!-- Previous -->
                					{% if posts.has_previous %}
                					<li class="page-item">
                    					<a class="page-link rounded-circle p-2 m-1"
                       					href="?page={{ posts.previous_page_number }}"
                       					aria-label="Previous">
                        					<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 24 24" fill="none"
                             					class="rtl-flip" stroke="currentColor" stroke-width="2"
                             					stroke-linecap="round" stroke-linejoin="round">
                            					<polyline points="15 18 9 12 15 6"></polyline>
                        					</svg>
                    					</a>
                					</li>
                					{% else %}
                					<li class="page-item disabled">
                    					<span class="page-link rounded-circle p-2 m-1" aria-hidden="true">
                        					<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 24 24" fill="none"
                             					class="rtl-flip" stroke="currentColor" stroke-width="2"
                             					stroke-linecap="round" stroke-linejoin="round">
                            					<polyline points="15 18 9 12 15 6"></polyline>
                        					</svg>
                    					</span>
                					</li>
                					{% endif %}

                					<!-- Page numbers -->
                					{% for num in posts.paginator.page_range %}
                					{% if posts.number == num %}
                					<li class="page-item active">
                    					<span class="page-link rounded-circle py-2 px-3 m-1">{{ num }}</span>
                					</li>
                					{% else %}
                					<li class="page-item">
                    					<a class="page-link rounded-circle py-2 px-3 m-1" href="?page={{ num }}">{{ num }}</a>
                					</li>
                					{% endif %}
                					{% endfor %}

                					<!-- Next -->
                					{% if posts.has_next %}
                					<li class="page-item">
                    					<a class="page-link rounded-circle p-2 m-1"
                       					href="?page={{ posts.next_page_number }}"
                       					aria-label="Next">
                        					<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 24 24" fill="none"
                             					class="rtl-flip" stroke="currentColor" stroke-width="2"
                             					stroke-linecap="round" stroke-linejoin="round">
                            					<polyline points="9 18 15 12 9 6"></polyline>
                        					</svg>
                    					</a>
                					</li>
                					{% else %}
                					<li class="page-item disabled">
                    					<span class="page-link rounded-circle p-2 m-1" aria-hidden="true">
                        					<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 24 24" fill="none"
                             					class="rtl-flip" stroke="currentColor" stroke-width="2"
                             					stroke-linecap="round" stroke-linejoin="round">
                            					<polyline points="9 18 15 12 9 6"></polyline>
                        					</svg>
                    					</span>
                					</li>
                					{% endif %}
            					</ul>
        					</nav>
    					</div>
					</div>
				</div>

				<div class="col-12 col-xl-4">
					<div class="max-w-xl mx-auto mx-xl-0 pt-5 pt-xl-0">
						<div class="mt-4">
    						<div class="p-4 shadow rounded-3 bg-body-tertiary">
        						<form method="get" action="{% url 'search' %}">
            						<div class="input-group flex-nowrap input-group-lg">
                						<input type="text" name="s" class="form-control" placeholder="Search..." aria-label="Search" aria-describedby="addon-wrapping">
                						<button class="input-group-text bg-primary text-light" type="submit" id="addon-wrapping">
                    						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        						<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    						</svg>
                						</button>
           						 	</div>
        						</form>
    						</div>
						</div>

						<div class="mt-5">
    						<div class="p-4 shadow rounded-3 bg-body-tertiary">
        						<h3 class="text-body-emphasis text-2xl tracking-tight fw-semibold">
            						Latest Posts
        						</h3>

        						<hr class="text-body-emphasis opacity-10">

        						{% for item in latest_posts %}
        						<a href="{% url 'post_detail' item.slug %}" class="d-flex align-items-center mt-4 text-body link-offset-2 link-underline link-underline-opacity-0 link-underline-opacity-25-hover">
            						<div class="p-5 position-relative">
                						<img src="{{ item.image.url }}" class="position-absolute top-0 start-0 h-100 w-100 object-fit-cover rounded" loading="lazy" alt="{{ item.title }}">
            						</div>
            						<div class="ps-3">
                						<time datetime="{{ item.published_date|date:'Y-m-d' }}" class="d-block text-body-tertiary">
                    						{{ item.published_date|date:"M d, Y" }}
                						</time>
                						<h6 class="m-0 mt-3 text-body-secondary line-clamp-2 text-sm leading-6">
                    						{{ item.title }}
                						</h6>
            						</div>
        						</a>
        						{% endfor %}
    						</div>
						</div>

						<div class="mt-5">
							<div class="p-4 shadow rounded-3 bg-body-tertiary">
								<h3 class="text-body-emphasis text-2xl tracking-tight fw-semibold">
									Categories
								</h3>

								<hr class="text-body-secondary opacity-10">

								<ul class="ps-3 text-body-secondary">
    								{% for category in categories %}
    								<li class="mt-2">
        								<a href="{% url 'category' category.slug %}"
           								class="text-body-secondary link-offset-2 link-underline link-underline-opacity-0 link-underline-opacity-25-hover text-sm leading-6">
            								{{ category.name }}
        								</a>
    								</li>
    								{% endfor %}
								</ul>
							</div>
						</div>

						<div class="mt-5">
							<div class="p-4 shadow rounded-3 bg-body-tertiary">
								<h3 class="text-body-emphasis text-2xl tracking-tight fw-semibold">
									Popular Tags
								</h3>
								<hr class="text-body-emphasis opacity-10">

								<div class="d-flex flex-wrap gap-3">
    								{% for tag in tags %}
        								<a href="{% url 'tagged_posts' tag.slug %}"
           								class="btn text-body-tertiary border bg-body-secondary-hover text-sm fw-semibold">
            								{{ tag.name }}
        								</a>
    								{% endfor %}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block diffrence_way %}
	<div class="pb-9 pt-7">
		<div class="container">
			<div class="py-6 position-relative text-white rounded-3">
				<img src="{% static 'assets/img/bg/bg10.jpg' %}" class="position-absolute z-n1 top-0 h-100 w-100 object-fit-cover rounded-3" loading="lazy" alt="Meeting">

		   		<div class="position-absolute z-n1 top-0 h-100 w-100 bg-dark rounded-3"
		        	style="opacity: 0.85; mix-blend-mode: multiply; filter: contrast(1.15) brightness(0.85);">
		    	</div>

				<div class="px-6">
					<div class="mx-auto max-w-2xl">
						<h2 class="m-0 tracking-tight text-4xl fw-bold text-center">
							Reclaim Your Time. Experience Fresh.
						</h2>
						<p class="m-0 mt-4 text-lg leading-8 text-center">
							Let us handle your laundry, so you can focus on what matters.
						</p>
						<div class="mt-4 pt-3 text-center">
							<a href="javascript:;" class="btn btn-lg btn-primary text-white text-sm fw-semibold" data-bs-toggle="modal" data-bs-target="#pickupModal">
    							Schedule Your Pickup
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="pickupModal" tabindex="-1" aria-labelledby="pickupModalLabel" aria-hidden="true">
  		<div class="modal-dialog">
    		<div class="modal-content">
      		<div class="modal-header">
        		<h5 class="modal-title" id="pickupModalLabel">Schedule Your Pickup</h5>
        		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      		</div>
      		<div class="modal-body">
				{% if form.errors %}
  				<div class="alert alert-danger">
    				Please correct the errors in the form.
  				</div>
				{% endif %}

        		<form method="post" action="{% url 'services' %}">
    				{% csrf_token %}

    				<div class="mb-3">
        				<label for="full_name" class="form-label">Full Name</label>
        				<input type="text" name="full_name" class="form-control" placeholder="e.g., Maryam Tavakoli">
    				</div>

    				<div class="mb-3">
        				<label for="date" class="form-label">Pickup Date</label>
        				<input type="date" name="date" class="form-control">
        				<small class="text-muted">Format: YYYY-MM-DD</small>
    				</div>

    				<div class="mb-3">
        				<label for="time" class="form-label">Pickup Time</label>
        				<input type="time" name="time" class="form-control">
        				<small class="text-muted">Format: HH:MM (e.g., 14:30)</small>
    				</div>

					<div class="mb-3">
        				<label for="email" class="form-label">Email Address</label>
        				<input type="email" name="email" class="form-control" placeholder="e.g., maryam@example.com">
    				</div>

					<div class="mb-3">
    					<label for="phone_number" class="form-label">Phone Number</label>
    					<input type="tel" name="phone_number" class="form-control" placeholder="e.g., +1 234 567 8901">
					</div>


  					<button type="submit" name="schedule_submit" class="btn btn-primary">Submit</button>
				</form>

      		</div>
    		</div>
  		</div>
	</div>
{% endblock %}